<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Depilast - Depilación Láser Definitiva en Buenos Aires</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Playfair+Display:wght@500;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

    <style>
        /* Custom Styles to apply the selected fonts and colors */
        body {
            font-family: 'Lato', sans-serif;
            color: #333;
        }
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Playfair Display', serif;
        }
        .bg-primary { background-color: #FFFFFF; }
        .bg-secondary { background-color: #4A7C85; }
        .text-secondary { color: #4A7C85; }
        .bg-accent { background-color: #FF6F61; }
        .text-accent { color: #FF6F61; }
        .border-accent { border-color: #FF6F61; }
        .btn-primary {
            background-color: #FF6F61;
            color: white;
            transition: background-color 0.3s ease;
        }
        .btn-primary:hover {
            background-color: #E55B50;
        }
        .btn-secondary {
            background-color: #4A7C85;
            color: white;
            transition: background-color 0.3s ease;
        }
        .btn-secondary:hover {
            background-color: #3B636A;
        }
        
        /* Helper class to hide/show pages */
        .page {
            display: none;
        }
        .page.active {
            display: block;
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Styling for the floating quote widget */
        #quote-widget {
            transition: all 0.3s ease-in-out;
        }
        #quote-widget.minimized .quote-body {
            display: none;
        }
         #quote-widget.minimized {
            height: 60px;
        }


        /* Custom Accordion Styles */
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        
       /* Custom Toast Notification */
        #toast {
            visibility: hidden;
            min-width: 250px;
            margin-left: -125px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 8px;
            padding: 16px;
            position: fixed;
            z-index: 100;
            left: 50%;
            bottom: 30px;
            transition: visibility 0s, opacity 0.5s linear;
            opacity: 0;
        }
        #toast.show {
            visibility: visible;
            opacity: 1;
        }

        /* Chatbot styles */
        #chatbot-toggle {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 100;
            transition: transform 0.3s ease, opacity 0.3s ease;
        }
        #chatbot-container {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 90%;
            max-width: 400px;
            height: 70vh;
            max-height: 600px;
            z-index: 100;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            transition: transform 0.3s ease, opacity 0.3s ease;
            transform: translateY(20px);
            opacity: 0;
            pointer-events: none;
        }
        #chatbot-container.active {
            transform: translateY(0);
            opacity: 1;
            pointer-events: auto;
        }
        #chatbot-toggle.hidden {
            transform: scale(0.5);
            opacity: 0;
            pointer-events: none;
        }
        .chat-message {
            display: flex;
        }
        .chat-message.user {
            justify-content: flex-end;
        }
        .chat-message.user .chat-bubble {
            background-color: #4A7C85;
            color: white;
        }
        .chat-message.model .chat-bubble {
            background-color: #e5e7eb;
            color: #374151;
        }
        .typing-indicator span {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: #9ca3af;
            animation: bounce 1s infinite;
        }
        .typing-indicator span:nth-child(2) {
            animation-delay: 0.1s;
        }
        .typing-indicator span:nth-child(3) {
            animation-delay: 0.2s;
        }
        @keyframes bounce {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-5px); }
        }
    </style>
</head>
<body class="bg-gray-50">

    <!-- Header -->
    <header id="main-header" class="bg-primary shadow-md sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="text-2xl font-bold text-secondary font-serif" data-page="home">Depilast</a>
            <div class="hidden md:flex space-x-6 items-center">
                <a href="#" class="text-gray-600 hover:text-secondary" data-page="home">Inicio</a>
                <a href="#" class="text-gray-600 hover:text-secondary" data-page="precios">Tratamientos y Precios</a>
                <a href="#" class="text-gray-600 hover:text-secondary" data-page="tecnologia">Nuestra Tecnología</a>
                <a href="#" class="text-gray-600 hover:text-secondary" data-page="nosotros">Nosotros</a>
                <a href="#" class="text-gray-600 hover:text-secondary" data-page="contacto">Contacto</a>
            </div>
            <div class="hidden md:flex items-center space-x-4">
                <a href="https://wa.me/541166111264" target="_blank" class="flex items-center text-gray-600 hover:text-secondary">
                    <i class="fab fa-whatsapp text-xl mr-2"></i> Consultas
                </a>
                <a href="#" class="btn-primary px-5 py-2 rounded-full font-bold" data-page="precios">Cotizá y Agendá</a>
            </div>
            <div class="md:hidden">
                <button id="mobile-menu-button" class="text-gray-600 focus:outline-none">
                    <i class="fas fa-bars text-2xl"></i>
                </button>
            </div>
        </nav>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden px-6 pt-2 pb-4">
            <a href="#" class="block py-2 text-gray-600 hover:text-secondary" data-page="home">Inicio</a>
            <a href="#" class="block py-2 text-gray-600 hover:text-secondary" data-page="precios">Tratamientos y Precios</a>
            <a href="#" class="block py-2 text-gray-600 hover:text-secondary" data-page="tecnologia">Nuestra Tecnología</a>
            <a href="#" class="block py-2 text-gray-600 hover:text-secondary" data-page="nosotros">Nosotros</a>
            <a href="#" class="block py-2 text-gray-600 hover:text-secondary" data-page="contacto">Contacto</a>
            <a href="#" class="block mt-4 btn-primary text-center px-5 py-2 rounded-full font-bold" data-page="precios">Cotizá y Agendá</a>
        </div>
    </header>

    <main>
        <!-- Home Page -->
        <div id="page-home" class="page active">
            <!-- Hero Section -->
            <section class="h-[70vh] md:h-[90vh] bg-cover bg-center flex items-center" style="background-image: url('https://images.unsplash.com/photo-1570172619644-dfd03ed5d881?q=80&w=2070&auto=format&fit=crop')">
                <div class="bg-black bg-opacity-30 w-full h-full flex items-center">
                    <div class="container mx-auto px-6 text-left text-white">
                        <div class="w-full md:w-2/3 lg:w-1/2">
                            <h1 class="text-4xl md:text-6xl font-bold leading-tight">La Depilación Láser Definitiva en Buenos Aires.</h1>
                            <h2 class="text-2xl md:text-3xl mt-4">Tecnología Superior, Resultados Reales.</h2>
                            <p class="mt-4 text-lg">Con la tecnología Soprano Titanium Original para un tratamiento seguro y sin dolor.</p>
                            <a href="#" class="mt-8 inline-block btn-primary px-8 py-4 rounded-full font-bold text-lg" data-page="precios">Cotizá tu Tratamiento</a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Trust Bar -->
            <section class="bg-gray-100">
                <div class="container mx-auto px-6 py-8 grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
                    <div class="flex flex-col items-center">
                        <i class="fas fa-microchip text-3xl text-secondary"></i>
                        <h3 class="font-bold mt-2">Tecnología Soprano Original</h3>
                    </div>
                    <div class="flex flex-col items-center">
                        <i class="fas fa-user-md text-3xl text-secondary"></i>
                        <h3 class="font-bold mt-2">Atendido por Expertos</h3>
                    </div>
                    <div class="flex flex-col items-center">
                        <i class="fas fa-eye text-3xl text-secondary"></i>
                        <h3 class="font-bold mt-2">Resultados Visibles</h3>
                    </div>
                    <div class="flex flex-col items-center">
                        <i class="fas fa-calendar-check text-3xl text-secondary"></i>
                        <h3 class="font-bold mt-2">Booking Online Fácil</h3>
                    </div>
                </div>
            </section>

             <!-- Featured Services -->
            <section class="container mx-auto px-6 py-16">
                <h2 class="text-4xl font-bold text-center text-secondary mb-12">Nuestros Tratamientos</h2>
                <div class="grid md:grid-cols-2 gap-8">
                    <div class="rounded-lg overflow-hidden shadow-lg transform hover:scale-105 transition-transform duration-300">
                        <img src="https://images.unsplash.com/photo-1512290923902-8a9f31c23695?q=80&w=2070&auto=format&fit=crop" alt="Depilación Láser Femenina" class="w-full h-64 object-cover">
                        <div class="p-6 bg-white">
                            <h3 class="text-2xl font-bold text-secondary">Depilación Femenina</h3>
                            <p class="mt-2 text-gray-600">Tratamientos personalizados para cada zona del cuerpo, logrando una piel suave y libre de vello.</p>
                            <a href="#" class="mt-4 inline-block text-accent font-bold" data-page="precios">Ver Zonas y Precios <i class="fas fa-arrow-right ml-1"></i></a>
                        </div>
                    </div>
                    <div class="rounded-lg overflow-hidden shadow-lg transform hover:scale-105 transition-transform duration-300">
                        <img src="https://images.unsplash.com/photo-1616169485287-a2a25332435c?q=80&w=1974&auto=format&fit=crop" alt="Depilación Láser Masculina" class="w-full h-64 object-cover">
                        <div class="p-6 bg-white">
                            <h3 class="text-2xl font-bold text-secondary">Depilación Masculina</h3>
                            <p class="mt-2 text-gray-600">Soluciones eficaces para eliminar el vello no deseado en espalda, pecho, barba y más.</p>
                            <a href="#" class="mt-4 inline-block text-accent font-bold" data-page="precios" data-filter="hombre">Ver Zonas y Precios <i class="fas fa-arrow-right ml-1"></i></a>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Technology Teaser -->
            <section class="bg-white py-16">
                <div class="container mx-auto px-6 flex flex-col md:flex-row items-center gap-12">
                    <div class="md:w-1/2">
                        <img src="https://www.almalasers.com/wp-content/uploads/2019/11/Soprano-Titanium_device-and-handpieces_LR-1.jpg" alt="Tecnología Soprano Titanium" class="rounded-lg shadow-xl">
                    </div>
                    <div class="md:w-1/2">
                        <h2 class="text-4xl font-bold text-secondary">Más rápido, más confortable y más efectivo.</h2>
                        <p class="mt-4 text-lg text-gray-600">Descubrí por qué la tecnología Soprano Titanium revoluciona la depilación definitiva. Su sistema de enfriamiento avanzado y la combinación de longitudes de onda garantizan una experiencia superior.</p>
                        <a href="#" class="mt-6 inline-block btn-secondary px-8 py-3 rounded-full font-bold" data-page="tecnologia">Conocé Nuestra Tecnología</a>
                    </div>
                </div>
            </section>

             <!-- Social Proof / Testimonials -->
            <section class="py-16">
                 <div class="container mx-auto px-6 text-center">
                    <h2 class="text-4xl font-bold text-secondary">La opinión de nuestros clientes</h2>
                    <div class="mt-12 grid md:grid-cols-3 gap-8">
                        <div class="bg-white p-8 rounded-lg shadow-lg">
                            <div class="text-yellow-400 mb-4">
                                <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                            </div>
                            <p class="text-gray-600 italic">"¡Resultados desde la primera sesión! El trato es súper agradable y muy profesional. La mejor decisión que tomé."</p>
                            <p class="mt-4 font-bold text-secondary">- Camila S.</p>
                        </div>
                         <div class="bg-white p-8 rounded-lg shadow-lg">
                            <div class="text-yellow-400 mb-4">
                                <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                            </div>
                            <p class="text-gray-600 italic">"Mucho profesionalismo y la máquina es la original. Cero dolor y el lugar es impecable. Lo recomiendo 100%."</p>
                            <p class="mt-4 font-bold text-secondary">- Martín L.</p>
                        </div>
                         <div class="bg-white p-8 rounded-lg shadow-lg">
                            <div class="text-yellow-400 mb-4">
                                <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                            </div>
                            <p class="text-gray-600 italic">"El sistema para agendar online es súper fácil y transparente. Pude armar mi pack y pagar en el momento. ¡Genial!"</p>
                            <p class="mt-4 font-bold text-secondary">- Valentina R.</p>
                        </div>
                    </div>
                 </div>
            </section>
            
            <!-- FAQ Snippet -->
            <section class="bg-white py-16">
                <div class="container mx-auto px-6 max-w-4xl">
                    <h2 class="text-4xl font-bold text-center text-secondary mb-12">Preguntas Frecuentes</h2>
                    <div class="space-y-4 accordion-container">
                        <div class="bg-gray-100 rounded-lg">
                            <button class="w-full flex justify-between items-center p-5 font-bold text-left accordion-header">
                                <span>¿El tratamiento duele?</span>
                                <i class="fas fa-chevron-down transform transition-transform"></i>
                            </button>
                            <div class="accordion-content">
                                <p class="p-5 pt-0 text-gray-600">Gracias a la tecnología de enfriamiento ICE Plus de Soprano Titanium, la sensación es prácticamente indolora. Se siente un calentamiento gradual en la zona, pero es muy confortable.</p>
                            </div>
                        </div>
                        <div class="bg-gray-100 rounded-lg">
                            <button class="w-full flex justify-between items-center p-5 font-bold text-left accordion-header">
                                <span>¿Cuántas sesiones necesito?</span>
                                <i class="fas fa-chevron-down transform transition-transform"></i>
                            </button>
                            <div class="accordion-content">
                               <p class="p-5 pt-0 text-gray-600">Generalmente se recomiendan entre 6 y 8 sesiones para lograr una reducción de hasta el 90% del vello. El número exacto puede variar según la persona, el tipo de vello y la zona a tratar.</p>
                            </div>
                        </div>
                        <div class="bg-gray-100 rounded-lg">
                            <button class="w-full flex justify-between items-center p-5 font-bold text-left accordion-header">
                                <span>¿Es realmente definitivo?</span>
                                <i class="fas fa-chevron-down transform transition-transform"></i>
                            </button>
                             <div class="accordion-content">
                               <p class="p-5 pt-0 text-gray-600">Hablamos de depilación permanente. El tratamiento elimina los folículos activos durante las sesiones. Cambios hormonales futuros pueden activar nuevos folículos, por lo que se recomienda una sesión de mantenimiento anual.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Prices Page -->
        <div id="page-precios" class="page">
             <div class="container mx-auto px-6 py-16">
                <h1 class="text-4xl md:text-5xl font-bold text-center text-secondary">Cotizá y Agendá Online</h1>
                <p class="text-center text-lg text-gray-600 mt-4 max-w-3xl mx-auto">Seleccioná las zonas que querés tratar y armá tu plan a medida. Mirá el total en tiempo real y agendá tu cita en minutos. ¡Transparencia total, sin sorpresas!</p>

                <!-- Gender Filter -->
                <div class="flex justify-center my-10">
                    <div class="bg-gray-200 rounded-full p-1 flex">
                        <button id="filter-mujer" class="px-6 py-2 rounded-full font-bold bg-secondary text-white">Mujer</button>
                        <button id="filter-hombre" class="px-6 py-2 rounded-full font-bold text-gray-600">Hombre</button>
                    </div>
                </div>

                <!-- Prices Cards Container -->
                <div id="prices-cards-container" class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6 max-w-7xl mx-auto">
                    <!-- Price cards will be injected here by JS -->
                </div>
            </div>
        </div>
        
        <!-- Technology Page -->
        <div id="page-tecnologia" class="page">
            <section class="bg-secondary text-white text-center py-20">
                <div class="container mx-auto px-6">
                    <h1 class="text-5xl font-bold">Soprano Titanium: La Garantía de un Tratamiento Superior</h1>
                    <p class="text-xl mt-4 max-w-3xl mx-auto">En Depilast invertimos en la mejor tecnología para garantizar tu seguridad, confort y los mejores resultados.</p>
                </div>
            </section>
            <section class="py-16">
                <div class="container mx-auto px-6">
                    <div class="text-center mb-12">
                         <img src="https://depilacionlaserba.com/wp-content/uploads/2021/08/logo-soprano-ice-platinum-oficial-300x127.png" alt="Sello Centro Oficial Soprano" class="mx-auto h-24">
                    </div>

                    <div class="grid md:grid-cols-3 gap-12 text-center">
                        <div>
                            <i class="fas fa-wave-square text-5xl text-accent"></i>
                            <h3 class="text-2xl font-bold text-secondary mt-4">Tecnología 3D</h3>
                            <p class="mt-2 text-gray-600">Combina tres longitudes de onda láser en un solo aplicador, tratando simultáneamente diferentes profundidades de tejido y estructuras anatómicas dentro del folículo piloso.</p>
                        </div>
                        <div>
                            <i class="fas fa-ice-cream text-5xl text-accent"></i>
                            <h3 class="text-2xl font-bold text-secondary mt-4">ICE Plus™ - Frío Continuo</h3>
                            <p class="mt-2 text-gray-600">Un avanzado sistema de enfriamiento por contacto que previene quemaduras y permite un tratamiento virtualmente indoloro. Mantiene la piel fría mientras el láser calienta los folículos.</p>
                        </div>
                        <div>
                           <i class="fas fa-running text-5xl text-accent"></i>
                           <h3 class="text-2xl font-bold text-secondary mt-4">SHR™ In-Motion</h3>
                           <p class="mt-2 text-gray-600">En lugar de disparos únicos y dolorosos, la técnica SHR™ calienta gradualmente la dermis a una temperatura que daña eficazmente el folículo, pero con un confort inigualable.</p>
                        </div>
                    </div>

                     <div class="mt-16 bg-white p-8 rounded-lg shadow-lg flex flex-col md:flex-row items-center gap-8">
                        <div class="md:w-1/2">
                           <img src="https://www.advancemed.com.ar/wp-content/uploads/2021/04/body_parts_titanium.jpg" alt="Aplicador de Soprano Titanium" class="rounded-lg w-full">
                        </div>
                        <div class="md:w-1/2">
                           <h2 class="text-3xl font-bold text-secondary">¿El resultado? Sesiones más rápidas y efectivas.</h2>
                           <p class="mt-4 text-gray-600">El cabezal de gran tamaño permite tratar áreas grandes como la espalda o las piernas de forma rápida y cómoda. La combinación de tecnologías asegura la máxima efectividad en todo tipo de piel y vello, durante todo el año.</p>
                        </div>
                     </div>
                </div>
            </section>
        </div>

        <!-- Nosotros Page -->
        <div id="page-nosotros" class="page">
            <section class="bg-white py-20">
                <div class="container mx-auto px-6 text-center">
                    <h1 class="text-5xl font-bold text-secondary">Precisión Clínica, Calidez Humana</h1>
                    <p class="text-xl mt-4 max-w-3xl mx-auto text-gray-600">Somos un equipo de profesionales apasionados por la estética y la salud de la piel, comprometidos con brindarte una experiencia segura y personalizada.</p>
                </div>
            </section>
            <section class="py-16">
                <div class="container mx-auto px-6">
                    <div class="grid md:grid-cols-2 gap-12 items-center">
                        <div class="text-center md:text-left">
                            <h2 class="text-4xl font-bold text-secondary">Dra. Valentina Rossi</h2>
                            <h3 class="text-xl text-accent font-semibold mt-1">Directora Médica</h3>
                            <p class="mt-4 text-gray-600">Especialista en dermatología y medicina estética con más de 15 años de experiencia. La Dra. Rossi supervisa todos los protocolos de tratamiento para garantizar la máxima seguridad y eficacia, combinando su profundo conocimiento científico con un enfoque centrado en el paciente.</p>
                            <p class="mt-2 text-gray-600"><b>Credenciales:</b> Médica Dermatóloga (UBA), Miembro de la Sociedad Argentina de Dermatología.</p>
                        </div>
                        <div>
                             <img src="https://images.unsplash.com/photo-1559839734-2b71ea197ec2?q=80&w=2070&auto=format&fit=crop" alt="Directora Médica" class="rounded-lg shadow-xl mx-auto">
                        </div>
                    </div>
                    <div class="grid md:grid-cols-3 gap-8 mt-20 text-center">
                        <div class="bg-white p-6 rounded-lg shadow-lg">
                            <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?q=80&w=1964&auto=format&fit=crop" alt="Miembro del equipo" class="rounded-full w-32 h-32 object-cover mx-auto mb-4">
                            <h4 class="text-xl font-bold text-secondary">Sofía Gomez</h4>
                            <p class="text-gray-500">Técnica especialista en láser</p>
                        </div>
                         <div class="bg-white p-6 rounded-lg shadow-lg">
                            <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?q=80&w=1974&auto=format&fit=crop" alt="Miembro del equipo" class="rounded-full w-32 h-32 object-cover mx-auto mb-4">
                            <h4 class="text-xl font-bold text-secondary">Laura Fernandez</h4>
                            <p class="text-gray-500">Técnica especialista en láser</p>
                        </div>
                         <div class="bg-white p-6 rounded-lg shadow-lg">
                            <img src="https://images.unsplash.com/photo-1521119989659-a83eee488004?q=80&w=1974&auto=format&fit=crop" alt="Miembro del equipo" class="rounded-full w-32 h-32 object-cover mx-auto mb-4">
                            <h4 class="text-xl font-bold text-secondary">Micaela Torres</h4>
                            <p class="text-gray-500">Coordinadora de Citas</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Contacto Page -->
        <div id="page-contacto" class="page">
            <section class="py-20">
                <div class="container mx-auto px-6">
                    <div class="text-center">
                        <h1 class="text-5xl font-bold text-secondary">Contactanos</h1>
                        <p class="text-xl mt-4 text-gray-600">Estamos para resolver todas tus dudas. ¡Escribinos o visitanos!</p>
                    </div>
                    <div class="mt-16 grid md:grid-cols-2 gap-12">
                        <div class="bg-white p-8 rounded-lg shadow-lg">
                            <h3 class="text-2xl font-bold text-secondary mb-6">Envianos tu consulta</h3>
                            <form>
                                <div class="mb-4">
                                    <label for="name" class="block text-gray-700 font-bold mb-2">Nombre</label>
                                    <input type="text" id="name" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-secondary" required>
                                </div>
                                <div class="mb-4">
                                    <label for="email" class="block text-gray-700 font-bold mb-2">Email</label>
                                    <input type="email" id="email" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-secondary" required>
                                </div>
                                <div class="mb-4">
                                    <label for="message" class="block text-gray-700 font-bold mb-2">Mensaje</label>
                                    <textarea id="message" rows="5" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-secondary" required></textarea>
                                </div>
                                <button type="submit" class="btn-primary w-full py-3 rounded-full font-bold">Enviar Mensaje</button>
                            </form>
                        </div>
                        <div class="space-y-6">
                            <div class="bg-white p-6 rounded-lg shadow-lg flex items-center">
                                <i class="fas fa-map-marker-alt text-3xl text-accent"></i>
                                <div class="ml-4">
                                    <h4 class="font-bold text-lg text-secondary">Dirección</h4>
                                    <p class="text-gray-600">Av. Santa Fe 2845, Piso 3, Recoleta, CABA</p>
                                </div>
                            </div>
                            <div class="bg-white p-6 rounded-lg shadow-lg flex items-center">
                                <i class="fab fa-whatsapp text-3xl text-accent"></i>
                                <div class="ml-4">
                                    <h4 class="font-bold text-lg text-secondary">WhatsApp</h4>
                                    <a href="https://wa.me/541166111264" target="_blank" class="text-gray-600 hover:text-accent">+54 9 11 6611-1264</a>
                                </div>
                            </div>
                            <div class="bg-white p-6 rounded-lg shadow-lg flex items-center">
                                <i class="fas fa-envelope text-3xl text-accent"></i>
                                <div class="ml-4">
                                    <h4 class="font-bold text-lg text-secondary">Email</h4>
                                    <p class="text-gray-600">hola@depilast.com.ar</p>
                                </div>
                            </div>
                             <div class="bg-white h-64 rounded-lg shadow-lg">
                                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3284.348962835985!2d-58.40175808477064!3d-34.5953289804618!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x95bcca99c8555555%3A0x47386343555f5f5f!2sAv.%20Santa%20Fe%202845%2C%20C1425BGH%20CABA!5e0!3m2!1ses-419!2sar!4v1688000000000" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade" class="rounded-lg"></iframe>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Agendar Page (Booking flow) -->
        <div id="page-agendar" class="page">
             <div class="container mx-auto px-4 sm:px-6 py-16">
                <div class="max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-xl">
                    <h1 class="text-4xl font-bold text-center text-secondary mb-8">Completá tu Reserva</h1>
                    
                    <div id="booking-step-1">
                        <h2 class="text-2xl font-bold text-secondary mb-4">1. Resumen de tu cotización</h2>
                        <div id="agendar-resumen" class="bg-gray-50 p-6 rounded-lg mb-6">
                            <!-- Summary injected by JS -->
                        </div>
                        
                        <h2 class="text-2xl font-bold text-secondary mb-4">2. Elegí fecha y hora</h2>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div>
                                <label for="booking-date" class="block text-gray-700 font-bold mb-2">Fecha</label>
                                <input type="date" id="booking-date" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-secondary">
                            </div>
                             <div>
                                <label for="booking-time" class="block text-gray-700 font-bold mb-2">Hora</label>
                                <select id="booking-time" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-secondary">
                                    <option>10:00</option>
                                    <option>11:00</option>
                                    <option>12:00</option>
                                    <option>14:00</option>
                                    <option>15:00</option>
                                    <option>16:00</option>
                                    <option>17:00</option>
                                </select>
                            </div>
                        </div>
                        <div class="text-right mt-8">
                            <button id="next-step-button" class="btn-primary px-8 py-3 rounded-full font-bold">Siguiente: Datos y Pago</button>
                        </div>
                    </div>

                    <div id="booking-step-2" class="hidden">
                        <h2 class="text-2xl font-bold text-secondary mb-4">3. Tus Datos</h2>
                        <div class="grid md:grid-cols-2 gap-6 mb-8">
                             <div>
                                <label for="booking-name" class="block text-gray-700 font-bold mb-2">Nombre</label>
                                <input type="text" id="booking-name" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-secondary" required>
                            </div>
                             <div>
                                <label for="booking-lastname" class="block text-gray-700 font-bold mb-2">Apellido</label>
                                <input type="text" id="booking-lastname" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-secondary" required>
                            </div>
                             <div>
                                <label for="booking-email" class="block text-gray-700 font-bold mb-2">Email</label>
                                <input type="email" id="booking-email" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-secondary" required>
                            </div>
                             <div>
                                <label for="booking-phone" class="block text-gray-700 font-bold mb-2">Teléfono (WhatsApp)</label>
                                <input type="tel" id="booking-phone" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-secondary" required>
                            </div>
                        </div>

                        <h2 class="text-2xl font-bold text-secondary mb-4">4. Opciones de Pago</h2>
                        <div class="space-y-4">
                            <div class="border-2 border-gray-300 p-6 rounded-lg has-[:checked]:border-accent has-[:checked]:bg-orange-50">
                                <label class="flex items-center">
                                    <input type="radio" name="payment" class="h-5 w-5 text-accent focus:ring-accent" checked>
                                    <span class="ml-4">
                                        <span class="font-bold text-lg">Pagar Seña para Reservar</span>
                                        <span class="block text-gray-600">Asegurá tu turno con un depósito. (Ej: $10.000 ARS)</span>
                                    </span>
                                </label>
                            </div>
                            <div class="border-2 border-gray-300 p-6 rounded-lg has-[:checked]:border-accent has-[:checked]:bg-orange-50">
                                <label class="flex items-center">
                                    <input type="radio" name="payment" class="h-5 w-5 text-accent focus:ring-accent">
                                    <span class="ml-4">
                                        <span class="font-bold text-lg">Pagar Total y Congelar Precio</span>
                                        <span id="payment-total-label" class="block text-gray-600">Aboná el total y asegurá el precio promocional.</span>
                                    </span>
                                </label>
                            </div>
                        </div>

                         <div class="text-center mt-8">
                           <p class="text-gray-600 mb-2">Serás redirigido a MercadoPago para completar la transacción de forma segura.</p>
                           <button id="confirm-booking-button" class="btn-primary w-full md:w-auto px-12 py-4 rounded-full font-bold text-lg">Confirmar Reserva</button>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <!-- Confirmación Page -->
        <div id="page-confirmacion" class="page">
            <div class="container mx-auto px-6 py-20 text-center">
                <div class="max-w-2xl mx-auto bg-white p-12 rounded-lg shadow-xl">
                    <i class="fas fa-check-circle text-6xl text-green-500"></i>
                    <h1 id="confirmation-title" class="text-4xl font-bold text-secondary mt-6">¡Gracias! Tu turno está confirmado.</h1>
                    <p class="text-gray-600 mt-4 text-lg">Hemos enviado un email y un WhatsApp con los detalles de tu cita. ¡Te esperamos!</p>
                    <div id="confirmation-summary" class="mt-8 text-left bg-gray-50 p-6 rounded-lg">
                        <!-- Confirmation summary injected by JS -->
                    </div>
                    <div class="mt-8 flex flex-col sm:flex-row justify-center gap-4">
                       <a href="#" id="add-to-calendar-link" target="_blank" class="inline-block btn-primary px-8 py-3 rounded-full font-bold">
                           <i class="fas fa-calendar-plus mr-2"></i> Agregar a Google Calendar
                       </a>
                       <a href="#" class="inline-block btn-secondary px-8 py-3 rounded-full font-bold" data-page="home">Volver al Inicio</a>
                   </div>
                </div>
            </div>
        </div>
    </main>
    
    <!-- Floating Quote Widget -->
    <div id="quote-widget" class="fixed bottom-28 right-5 w-[350px] bg-white rounded-xl shadow-2xl transform translate-x-[400px] opacity-0 z-40 overflow-hidden">
        <div id="quote-header" class="flex justify-between items-center p-4 bg-secondary text-white cursor-pointer">
            <h3 class="text-xl font-bold">Mi Cotización</h3>
            <button id="toggle-quote-widget" class="text-xl">
                <i class="fas fa-chevron-down"></i>
            </button>
        </div>
        <div class="quote-body p-4">
            <div id="quote-items" class="space-y-3 mb-4 max-h-48 overflow-y-auto pr-2">
                <!-- Items injected by JS -->
            </div>
            <div class="border-t pt-4">
                <div class="flex justify-between font-bold text-lg">
                    <span>Total:</span>
                    <span id="quote-total">$0 ARS</span>
                </div>
            </div>
            <button id="go-to-booking-button" class="w-full mt-4 btn-primary py-3 rounded-full font-bold">Agendar y Pagar</button>
        </div>
    </div>
    
    <!-- Chatbot -->
    <button id="chatbot-toggle" class="bg-secondary text-white w-16 h-16 rounded-full flex items-center justify-center shadow-lg">
        <i class="fas fa-comment-dots text-2xl"></i>
    </button>
    <div id="chatbot-container" class="bg-white rounded-lg flex flex-col">
        <div class="bg-secondary text-white p-4 flex justify-between items-center rounded-t-lg">
            <div>
                <h3 class="font-bold text-lg">Depi, tu Asistente Virtual</h3>
                <p class="text-sm text-gray-200">Online</p>
            </div>
            <button id="close-chatbot" class="text-2xl">&times;</button>
        </div>
        <div id="chat-messages" class="flex-1 p-4 overflow-y-auto space-y-4">
            <!-- Chat messages will be injected here -->
        </div>
        <div class="p-4 border-t">
            <form id="chat-form" class="flex items-center space-x-2">
                <input type="text" id="chat-input" placeholder="Escribí tu consulta..." class="w-full px-4 py-2 border rounded-full focus:outline-none focus:ring-2 focus:ring-secondary" autocomplete="off">
                <button type="submit" class="bg-accent text-white w-10 h-10 rounded-full flex-shrink-0">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </form>
        </div>
    </div>


    <!-- Footer -->
    <footer class="bg-secondary text-white">
        <div class="container mx-auto px-6 py-12">
            <div class="grid md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-2xl font-bold font-serif">Depilast</h3>
                    <p class="mt-2 text-gray-300">Precisión clínica, calidez humana.</p>
                </div>
                <div>
                    <h4 class="font-bold text-lg">Navegación</h4>
                    <ul class="mt-4 space-y-2">
                        <li><a href="#" class="hover:text-accent" data-page="home">Inicio</a></li>
                        <li><a href="#" class="hover:text-accent" data-page="precios">Precios</a></li>
                        <li><a href="#" class="hover:text-accent" data-page="tecnologia">Tecnología</a></li>
                        <li><a href="#" class="hover:text-accent" data-page="nosotros">Nosotros</a></li>
                    </ul>
                </div>
                 <div>
                    <h4 class="font-bold text-lg">Contacto</h4>
                    <ul class="mt-4 space-y-2 text-gray-300">
                        <li class="flex items-start"><i class="fas fa-map-marker-alt mt-1 mr-2"></i>Av. Santa Fe 2845, Recoleta, CABA</li>
                        <li class="flex items-center"><i class="fab fa-whatsapp mr-2"></i>+54 9 11 6611-1264</li>
                        <li class="flex items-center"><i class="fas fa-envelope mr-2"></i>hola@depilast.com.ar</li>
                    </ul>
                </div>
                 <div>
                    <h4 class="font-bold text-lg">Seguinos</h4>
                    <div class="flex space-x-4 mt-4 text-2xl">
                        <a href="#" class="hover:text-accent"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="hover:text-accent"><i class="fab fa-facebook-square"></i></a>
                    </div>
                </div>
            </div>
            <div class="mt-8 border-t border-gray-700 pt-6 text-center text-gray-400 text-sm">
                &copy; <span id="copyright-year"></span> Depilast. Todos los derechos reservados.
            </div>
        </div>
    </footer>
    
    <!-- Toast Notification -->
    <div id="toast"></div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        
        // --- DATA ---
        const priceData = {
            mujer: [
                { id: 'w_axilas', zone: 'Axilas', session: 12650, pack: 64520, image: 'https://images.unsplash.com/photo-1618241434192-b6653e0da193?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D' },
                { id: 'w_bozo', zone: 'Bozo / Bigote', session: 8650, pack: 44120, image: 'https://images.unsplash.com/photo-1615024794263-455bc5fa36d5?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D' },
                { id: 'w_menton', zone: 'Mentón', session: 8650, pack: 44120, image: 'https://images.unsplash.com/photo-1614164182255-a6b32b62237b?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D' },
                { id: 'w_patillas', zone: 'Patillas', session: 8650, pack: 44120, image: 'https://images.unsplash.com/photo-1594744806548-99341499a03c?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D' },
                { id: 'w_rostro', zone: 'Rostro Completo', session: 26990, pack: 137650, image: 'https://images.unsplash.com/photo-1598555239923-3ea45214defa?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D' },
                { id: 'w_brazos', zone: 'Brazos Completos', session: 33110, pack: 168860, image: 'https://images.unsplash.com/photo-1580130379635-331008035aa2?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D' },
                { id: 'w_antebrazos', zone: 'Antebrazos', session: 18000, pack: 91800, image: 'https://images.unsplash.com/photo-1605944199204-5856eed0d25c?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D' },
                { id: 'w_manos', zone: 'Manos', session: 10980, pack: 56000, image: 'https://images.unsplash.com/photo-1587845341272-3599981a9514?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D' },
                { id: 'w_linea_alba', zone: 'Línea Alba', session: 10980, pack: 56000, image: 'https://images.unsplash.com/photo-1617419159918-620448a31362?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D' },
                { id: 'w_abdomen', zone: 'Abdomen', session: 20000, pack: 102000, image: 'https://images.unsplash.com/photo-1579043444975-4519992a5924?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D' },
                { id: 'w_escote', zone: 'Escote', session: 10980, pack: 56000, image: 'https://images.unsplash.com/photo-1619472322384-d1e573e13788?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D' },
                { id: 'w_areolas', zone: 'Areolas', session: 8650, pack: 44120, image: 'https://images.unsplash.com/photo-1611055173167-129615a6b716?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D' },
                { id: 'w_espalda_completa', zone: 'Espalda Completa', session: 22120, pack: 112810, image: 'https://images.unsplash.com/photo-1570215777242-5c4a63162a8c?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D' },
                { id: 'w_espalda_inf', zone: 'Espalda Inferior', session: 10980, pack: 56000, image: 'https://images.unsplash.com/photo-1544164559-99f4e27735d7?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D' },
                { id: 'w_cavado_ext', zone: 'Cavado Extendido', session: 23780, pack: 121280, image: 'https://images.unsplash.com/photo-1560790673-a16395b87123?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D' },
                { id: 'w_gluteos', zone: 'Glúteos', session: 18960, pack: 96690, image: 'https://images.unsplash.com/photo-1610444626127-ac08658826ed?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D' },
                { id: 'w_pierna_entera', zone: 'Pierna Entera', session: 53670, pack: 273720, image: 'https://images.unsplash.com/photo-1529334812354-8e3136d8952b?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D' },
                { id: 'w_media_pierna', zone: 'Media Pierna', session: 34140, pack: 174110, image: 'https://images.unsplash.com/photo-1615912128394-2674338d172a?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D' },
                { id: 'w_muslos', zone: 'Muslos', session: 22120, pack: 112810, image: 'https://images.unsplash.com/photo-1541240292376-7872049834b6?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D' },
                { id: 'w_pies', zone: 'Pies', session: 10980, pack: 56000, image: 'https://images.unsplash.com/photo-1603982841121-1ab368940dea?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D' },
            ],
            hombre: [
                { id: 'm_barba', zone: 'Barba', session: 23930, pack: 122040, image: 'https://images.unsplash.com/photo-1621605813354-159627e99741?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D' },
                { id: 'm_cabeza', zone: 'Cabeza', session: 33110, pack: 168860, image: 'https://images.unsplash.com/photo-1622299696564-9fe3a95d4f3b?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D' },
                { id: 'm_cuello_ant', zone: 'Cuello Anterior', session: 10980, pack: 56000, image: 'https://images.unsplash.com/photo-1599566150163-29194dcaad36?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D' },
                { id: 'm_cuello_pos', zone: 'Cuello Posterior', session: 10980, pack: 56000, image: 'https://images.unsplash.com/photo-1617639234701-a4774cf785cd?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D' },
                { id: 'm_hombros', zone: 'Hombros', session: 15000, pack: 76500, image: 'https://images.unsplash.com/photo-1613502206899-044439994c9f?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D' },
                { id: 'm_torax', zone: 'Tórax', session: 33110, pack: 168860, image: 'https://images.unsplash.com/photo-1617870952348-742d4943f2d2?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D' },
                { id: 'm_espalda_completa', zone: 'Espalda Completa', session: 38860, pack: 198190, image: 'https://images.unsplash.com/photo-1619532429402-7186104cde6a?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D' },
                { id: 'm_abdomen', zone: 'Abdomen', session: 20000, pack: 102000, image: 'https://images.unsplash.com/photo-1603290618018-9c5952d7e0b9?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D' },
                { id: 'm_brazos', zone: 'Brazos Completos', session: 33110, pack: 168860, image: 'https://images.unsplash.com/photo-1544030034-9343063f9a93?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D' },
                { id: 'm_genitales', zone: 'Genitales', session: 23780, pack: 121280, image: 'https://images.unsplash.com/photo-1541696434-6018398b1464?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D' },
                { id: 'm_pierna_entera', zone: 'Pierna Entera', session: 53670, pack: 273720, image: 'https://images.unsplash.com/photo-1559941979-373323010777?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D' },
                { id: 'm_gluteos', zone: 'Glúteos', session: 18960, pack: 96690, image: 'https://images.unsplash.com/photo-1598495039572-c80336a1073b?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D' },
            ]
        };

        // --- Calculate pack prices if missing and round them ---
        Object.keys(priceData).forEach(gender => {
            priceData[gender].forEach(item => {
                if (!item.pack) {
                    item.pack = Math.round((item.session * 6 * 0.85) / 10) * 10;
                } else {
                    item.pack = Math.round(item.pack / 10) * 10;
                }
                 item.session = Math.round(item.session / 10) * 10;
            });
        });

        let currentQuote = [];
        let currentFilter = 'mujer';

        // --- ELEMENTS ---
        const pages = document.querySelectorAll('.page');
        const allPageLinks = document.querySelectorAll('a[data-page]');
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const pricesContainer = document.getElementById('prices-cards-container');
        const filterMujer = document.getElementById('filter-mujer');
        const filterHombre = document.getElementById('filter-hombre');
        const quoteWidget = document.getElementById('quote-widget');
        const quoteItems = document.getElementById('quote-items');
        const quoteTotalEl = document.getElementById('quote-total');
        const toggleQuoteWidgetBtn = document.getElementById('toggle-quote-widget');
        const goToBookingButton = document.getElementById('go-to-booking-button');
        const agendarResumen = document.getElementById('agendar-resumen');
        const nextStepButton = document.getElementById('next-step-button');
        const confirmBookingButton = document.getElementById('confirm-booking-button');
        const bookingStep1 = document.getElementById('booking-step-1');
        const bookingStep2 = document.getElementById('booking-step-2');
        const paymentTotalLabel = document.getElementById('payment-total-label');
        const confirmationTitle = document.getElementById('confirmation-title');
        const confirmationSummary = document.getElementById('confirmation-summary');
        const addToCalendarLink = document.getElementById('add-to-calendar-link');
        const toast = document.getElementById('toast');
        
        // Chatbot elements
        const chatbotToggle = document.getElementById('chatbot-toggle');
        const chatbotContainer = document.getElementById('chatbot-container');
        const closeChatbot = document.getElementById('close-chatbot');
        const chatMessages = document.getElementById('chat-messages');
        const chatForm = document.getElementById('chat-form');
        const chatInput = document.getElementById('chat-input');
        let chatHistory = [];

        // --- FUNCTIONS ---
        
        function showToast(message) {
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        function navigateTo(pageId, filter) {
            pages.forEach(p => p.classList.remove('active'));
            const targetPage = document.getElementById(`page-${pageId}`);
            if (targetPage) {
                targetPage.classList.add('active');
                window.scrollTo(0, 0);
            }
            mobileMenu.classList.add('hidden');
            
            if (pageId === 'precios' && filter) {
                 currentFilter = filter;
                 renderPriceCards();
            }
        }
        
        function formatCurrency(amount) {
            return `$${amount.toLocaleString('es-AR')}`;
        }

        function renderPriceCards() {
            const data = priceData[currentFilter];
            let cardsHTML = '';
            
            data.forEach(item => {
                cardsHTML += `
                    <div class="bg-white rounded-lg shadow-lg overflow-hidden flex flex-col">
                        <img src="${item.image}" alt="${item.zone}" class="w-full h-40 object-cover" onerror="this.onerror=null;this.src='https://placehold.co/300x300/cccccc/ffffff?text=Imagen+no+disponible';">
                        <div class="p-4 flex flex-col flex-grow">
                            <h4 class="font-bold text-lg text-secondary h-12">${item.zone}</h4>
                            <div class="mt-2 flex-grow flex flex-col justify-end">
                                <button data-id="${item.id}" data-type="session" class="add-to-quote-btn w-full text-sm text-left py-2 px-3 rounded-lg hover:bg-gray-100 flex justify-between items-center">
                                    <span>1 Sesión</span> <span class="font-bold">${formatCurrency(item.session)}</span>
                                </button>
                                <button data-id="${item.id}" data-type="pack" class="add-to-quote-btn w-full text-sm text-left py-2 px-3 rounded-lg hover:bg-gray-100 flex justify-between items-center mt-2">
                                    <span>Pack 6 Sesiones</span> <span class="font-bold text-green-600">${formatCurrency(item.pack)}</span>
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            });

            pricesContainer.innerHTML = cardsHTML;

            pricesContainer.querySelectorAll('.add-to-quote-btn').forEach(button => {
                button.addEventListener('click', handleAddToQuote);
            });
            
            if (currentFilter === 'mujer') {
                filterMujer.classList.add('bg-secondary', 'text-white');
                filterMujer.classList.remove('text-gray-600', 'bg-transparent');
                filterHombre.classList.remove('bg-secondary', 'text-white');
                filterHombre.classList.add('text-gray-600', 'bg-transparent');
            } else {
                filterHombre.classList.add('bg-secondary', 'text-white');
                filterHombre.classList.remove('text-gray-600', 'bg-transparent');
                filterMujer.classList.remove('bg-secondary', 'text-white');
                filterMujer.classList.add('text-gray-600', 'bg-transparent');
            }
        }

        function handleAddToQuote(event) {
            const button = event.currentTarget;
            const id = button.dataset.id;
            const type = button.dataset.type;
            const itemData = priceData.mujer.find(i => i.id === id) || priceData.hombre.find(i => i.id === id);
            if(!itemData) return;
            const itemIndex = currentQuote.findIndex(item => item.id === id);
            if (itemIndex > -1) currentQuote.splice(itemIndex, 1);
            currentQuote.push({
                id: itemData.id,
                zone: itemData.zone,
                type: type,
                price: type === 'session' ? itemData.session : itemData.pack,
                description: type === 'session' ? '1 Sesión' : 'Pack 6 Sesiones'
            });
            showToast(`${itemData.zone} (${type === 'session' ? '1 Sesión' : 'Pack'}) agregado a la cotización.`);
            updateQuoteWidget();
        }
        
        function handleRemoveFromQuote(idToRemove) {
            currentQuote = currentQuote.filter(item => item.id !== idToRemove);
            updateQuoteWidget();
        }

        function updateQuoteWidget() {
             if (currentQuote.length === 0) {
                quoteWidget.classList.add('translate-x-[400px]', 'opacity-0');
                return;
            }
            quoteWidget.classList.remove('translate-x-[400px]', 'opacity-0');
            let itemsHTML = '';
            let total = 0;
            currentQuote.forEach(item => {
                itemsHTML += `
                    <div class="flex justify-between items-center text-sm">
                        <div>
                            <p class="font-bold">${item.zone}</p>
                            <p class="text-gray-500">${item.description}</p>
                        </div>
                        <div class="flex items-center">
                            <span class="font-semibold mr-3">${formatCurrency(item.price)}</span>
                            <button class="remove-from-quote-btn text-red-500 hover:text-red-700" data-id="${item.id}"><i class="fas fa-trash-alt"></i></button>
                        </div>
                    </div>`;
                total += item.price;
            });
            quoteItems.innerHTML = itemsHTML;
            quoteTotalEl.textContent = `${formatCurrency(total)} ARS`;
             document.querySelectorAll('.remove-from-quote-btn').forEach(btn => {
                btn.addEventListener('click', (e) => handleRemoveFromQuote(e.currentTarget.dataset.id));
            });
        }

        function populateBookingSummary() {
            let summaryHTML = '';
            let total = 0;
            currentQuote.forEach(item => {
                summaryHTML += `
                    <div class="flex justify-between items-center py-2 border-b">
                        <div>
                            <p class="font-bold">${item.zone}</p>
                            <p class="text-gray-500">${item.description}</p>
                        </div>
                        <span class="font-semibold">${formatCurrency(item.price)}</span>
                    </div>`;
                total += item.price;
            });
            summaryHTML += `
                <div class="flex justify-between font-bold text-xl mt-4">
                    <span>Total:</span>
                    <span>${formatCurrency(total)} ARS</span>
                </div>`;
            agendarResumen.innerHTML = summaryHTML;
            paymentTotalLabel.textContent = `Aboná el total y asegurá el precio promocional (${formatCurrency(total)} ARS)`;
        }
        
        function setupAccordions() {
            document.querySelectorAll('.accordion-container').forEach(container => {
                container.addEventListener('click', (event) => {
                    const header = event.target.closest('.accordion-header');
                    if (!header) return;
                    const content = header.nextElementSibling;
                    const icon = header.querySelector('i');
                    container.querySelectorAll('.accordion-header').forEach(otherHeader => {
                        if (otherHeader !== header) {
                            otherHeader.nextElementSibling.style.maxHeight = null;
                            otherHeader.querySelector('i').classList.remove('rotate-180');
                        }
                    });
                    if (content.style.maxHeight) {
                        content.style.maxHeight = null;
                        icon.classList.remove('rotate-180');
                    } else {
                        content.style.maxHeight = content.scrollHeight + "px";
                        icon.classList.add('rotate-180');
                    }
                });
            });
        }
        
        function generateCalendarLink() {
            const name = document.getElementById('booking-name').value;
            const date = document.getElementById('booking-date').value;
            const time = document.getElementById('booking-time').value;
            if (!date || !time) return;

            const startDateTime = new Date(`${date}T${time}:00`);
            const endDateTime = new Date(startDateTime.getTime() + (60 * 60 * 1000));
            const formatDate = (dt) => dt.toISOString().replace(/-|:|\.\d\d\d/g, "");

            const event = {
                title: `Cita en Depilast para ${name}`,
                start: formatDate(startDateTime),
                end: formatDate(endDateTime),
                details: `Resumen de la cita:\n${agendarResumen.innerText}`,
                location: 'Av. Santa Fe 2845, Recoleta, CABA',
                guest: 'mtelmo@udesa.edu.ar'
            };
            
            const url = `https://www.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(event.title)}&dates=${event.start}/${event.end}&details=${encodeURIComponent(event.details)}&location=${encodeURIComponent(event.location)}&add=${encodeURIComponent(event.guest)}`;
            
            addToCalendarLink.href = url;
        }

        // Chatbot functions
        function addMessageToChat(sender, message) {
            const messageEl = document.createElement('div');
            messageEl.className = 'chat-message flex';
            messageEl.classList.add(sender);

            const bubble = document.createElement('div');
            bubble.className = 'chat-bubble p-3 rounded-lg max-w-xs lg:max-w-md';
            bubble.innerHTML = message;

            messageEl.appendChild(bubble);
            chatMessages.appendChild(messageEl);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        function showTypingIndicator() {
            const typingEl = document.createElement('div');
            typingEl.id = 'typing-indicator';
            typingEl.className = 'chat-message model flex';
            typingEl.innerHTML = `
                <div class="chat-bubble p-3 rounded-lg">
                    <div class="typing-indicator"><span></span><span></span><span></span></div>
                </div>
            `;
            chatMessages.appendChild(typingEl);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function hideTypingIndicator() {
            const indicator = document.getElementById('typing-indicator');
            if(indicator) indicator.remove();
        }

        async function handleChatSubmit(e) {
            e.preventDefault();
            const userInput = chatInput.value.trim();
            if (!userInput) return;

            addMessageToChat('user', userInput);
            chatInput.value = '';
            showTypingIndicator();

            chatHistory.push({ role: "user", parts: [{ text: userInput }] });
            
            try {
                const systemInstruction = {
                    role: "system",
                    parts: [{ text: "Sos 'Depi', una asistente virtual amigable y profesional de Depilast, una clínica de depilación láser de alta gama en Buenos Aires. Tu tono debe ser cercano y natural, como si fueras una persona real. Tu objetivo es responder preguntas y, si el usuario quiere agendar o una cotización, capturar sus datos de forma conversacional. **Importante: Pedí los datos de a uno por vez.** Primero preguntá el nombre. Una vez que responden, pedí el email. Y finalmente, el WhatsApp. No uses listas con números ni asteriscos. Sos experta en la tecnología Soprano Titanium y en los servicios de la clínica." }]
                };

                const payload = {
                    contents: chatHistory,
                    system_instruction: systemInstruction
                };

                const apiKey = ""
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                
                const response = await fetch(apiUrl, {
                     method: 'POST',
                     headers: { 'Content-Type': 'application/json' },
                     body: JSON.stringify(payload)
                });
                
                if (!response.ok) {
                    throw new Error(`API error: ${response.statusText}`);
                }
                
                const result = await response.json();
                
                hideTypingIndicator();
                
                if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts) {
                    const aiResponse = result.candidates[0].content.parts[0].text;
                    addMessageToChat('model', aiResponse);
                    chatHistory.push({ role: "model", parts: [{ text: aiResponse }] });
                } else {
                     addMessageToChat('model', 'Lo siento, no pude procesar tu solicitud en este momento. Por favor, intentá de nuevo.');
                }
            } catch (error) {
                console.error("Chatbot API error:", error);
                hideTypingIndicator();
                addMessageToChat('model', 'Oops, algo salió mal. Por favor, intentá de nuevo más tarde o contactanos por WhatsApp.');
            }
        }


        // --- EVENT LISTENERS ---
        allPageLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const pageId = link.dataset.page;
                const filter = link.dataset.filter;
                navigateTo(pageId, filter);
            });
        });

        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        filterMujer.addEventListener('click', () => {
            currentFilter = 'mujer';
            renderPriceCards();
        });

        filterHombre.addEventListener('click', () => {
            currentFilter = 'hombre';
            renderPriceCards();
        });
        
        toggleQuoteWidgetBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            quoteWidget.classList.toggle('minimized');
            const icon = toggleQuoteWidgetBtn.querySelector('i');
            icon.classList.toggle('fa-chevron-down');
            icon.classList.toggle('fa-chevron-up');
        });

        goToBookingButton.addEventListener('click', () => {
            populateBookingSummary();
            navigateTo('agendar');
        });
        
        nextStepButton.addEventListener('click', () => {
            const date = document.getElementById('booking-date').value;
            if(!date) {
                showToast('Por favor, seleccioná una fecha.');
                return;
            }
            bookingStep1.classList.add('hidden');
            bookingStep2.classList.remove('hidden');
        });
        
        confirmBookingButton.addEventListener('click', () => {
            const name = document.getElementById('booking-name').value;
            if(!name) {
                showToast('Por favor, ingresá tu nombre.');
                return;
            }
            confirmationTitle.textContent = `¡Gracias, ${name}! Tu turno está confirmado.`;
            let summaryHTML = agendarResumen.innerHTML;
            summaryHTML += `
                <div class="flex justify-between items-center py-2 border-b mt-4">
                    <div><p class="font-bold">Fecha:</p></div>
                    <span class="font-semibold">${document.getElementById('booking-date').value.split('-').reverse().join('/')} a las ${document.getElementById('booking-time').value}hs</span>
                </div>
            `;
            confirmationSummary.innerHTML = summaryHTML;
            generateCalendarLink();
            navigateTo('confirmacion');
        });
        
        // Chatbot listeners
        chatbotToggle.addEventListener('click', () => {
            chatbotContainer.classList.add('active');
            chatbotToggle.classList.add('hidden');
        });
        closeChatbot.addEventListener('click', () => {
            chatbotContainer.classList.remove('active');
            chatbotToggle.classList.remove('hidden');
        });
        chatForm.addEventListener('submit', handleChatSubmit);


        // --- INITIALIZATION ---
        chatHistory.push({ role: "model", parts: [{ text: "¡Hola! Soy Depi, tu asistente de Depilast. ¿Tenés alguna consulta sobre los tratamientos?" }] });
        addMessageToChat('model', '¡Hola! Soy Depi, tu asistente de Depilast. ¿Tenés alguna consulta sobre los tratamientos?');

        navigateTo('home');
        renderPriceCards();
        setupAccordions();
        const today = new Date();
        today.setDate(today.getDate() + 1);
        document.getElementById('booking-date').setAttribute('min', today.toISOString().split('T')[0]);
    });
    </script>

</body>
</html>
